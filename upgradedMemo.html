<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>upgraded memo</title>
    <link rel="stylesheet" href="upgradedMemo.Style.css">
</head>
<body>

    <h1>ê°„ë‹¨í•œ ë©”ëª¨ì¥</h1>
    <textarea id="memo" placeholder="ì—¬ê¸°ì— ë©”ëª¨ë¥¼ ì‘ì„±í•˜ì„¸ìš”..."></textarea> </p>
    <button id="clearBtn">ì´ˆê¸°í™”</button>
    <button id="toggleThemeBtn">ğŸŒ™ ë‹¤í¬ëª¨ë“œ</button>

    <script>
        const memoTextarea = document.getElementById("memo");
        const clear = document.getElementById("clearBtn");
        const toggleTheme = document.getElementById("toggleThemeBtn");

        memoTextarea.addEventListener("input", () => {
            localStorage.setItem("typedMemo", memoTextarea.value);
        });

        window.addEventListener("DOMContentLoaded", () => {
            const savedMemo = localStorage.getItem("typedMemo");
            const savedTheme = localStorage.getItem("theme");

            if(savedMemo){
                memoTextarea.value = savedMemo;
            };
            if(savedTheme === "dark"){
                document.body.classList.add("dark-mode");
                toggleTheme.textContent = "â˜€ï¸ ë¼ì´íŠ¸ëª¨ë“œ";
            }
            memoTextarea.focus();
        });

        clear.addEventListener("click", () => {
            localStorage.removeItem("typedMemo");
            memoTextarea.value = "";
            memoTextarea.focus();
        });

        toggleTheme.addEventListener("click", () => {
            document.body.classList.toggle("dark-mode");
            const isDark = document.body.classList.contains("dark-mode");
            localStorage.setItem("theme", isDark ? "dark" : "light");
            toggleTheme.textContent = isDark ? "â˜€ï¸ ë¼ì´íŠ¸ëª¨ë“œ" : "ğŸŒ™ ë‹¤í¬ëª¨ë“œ";
        });

    </script>
</body>
</html>